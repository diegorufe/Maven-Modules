<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:rf="http://java.sun.com/jsf/composite/rfComposite"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<f:view locale="#{idiomaController.locale}">
	<h:head>
		<h:outputStylesheet library="css" name="style.css" />
		<h:outputStylesheet library="css" name="login.css" />
		<h:outputScript library="js" name="functions.js" />
		<title><h:outputText value="#{i18n['titulo.login']}" /></title>
		<!-- Tell the browser to be responsive to screen width -->
		<meta
			content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
			name="viewport" />
		<meta http-equiv="cache-control" content="max-age=0" />
		<meta http-equiv="cache-control" content="no-cache" />
		<meta http-equiv="expires" content="-1" />
		<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
		<meta http-equiv="pragma" content="no-cache" />
	</h:head>
	<h:body>
		<rf:loadStyle/>
		<div class="ui-grid ui-grid-responsive ui-fluid">
			<div class="ui-grid-col-12">
				<p:panel id="panel" styleClass="login_panel"
					header="#{i18n['titulo.login']}">
					<f:event listener="#{sessionController.comprubaLoginListener()}"
						type="preRenderView" />
					<h:form id="login" prependId="false">
						<p:panelGrid styleClass="grid-login" columns="1" layout="grid">
							<rf:label forComponent=":login:nickDiv:j_username"
								value="#{i18n['usuario.nick']}" />
							<rf:inputText id="nickDiv" size="24"
								value="#{sessionController.entity.nick}" idInput="j_username"
								requiered="true" />
							<rf:label forComponent=":login:passwordDiv:j_password"
								value="#{i18n['usuario.password']}" />
							<rf:inputText id="passwordDiv" size="24"
								value="#{sessionController.entity.password}"
								idInput="j_password" type="password" requiered="true" />
							<rf:button ajax="false" id="loginButton"
								idButton="idLogingButton" value="#{i18n['login.inicio']}"
								type="submit" update="messagesLoginG"
								actionButton="#{sessionController.login()}"
								growl="messagesLoginG" />
						</p:panelGrid>
						<input type="hidden" name="${_csrf.parameterName}"
							value="${_csrf.token}" />
					</h:form>
				</p:panel>
			</div>
		</div>
	</h:body>
</f:view>
</html>